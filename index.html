<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Créer ma carte - Cartes d'Équipe</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body {margin:0; font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif; background: #ece9f7;}
        .sidebar {
            position:fixed; left:0; top:0; width:220px; height:100vh; background:#2c3e50; color:white; display:flex; flex-direction:column; align-items:center; padding:30px 0;
            box-shadow: 2px 0 12px rgba(0,0,0,0.07); z-index:10;
        }
        .sidebar h2 {margin-bottom:30px; font-size:1.4rem; letter-spacing:2px;}
        .sidebar a {
            color:white; text-decoration:none; font-size:1.1rem; margin:12px 0; padding:10px 25px; border-radius:8px; display:flex; align-items:center; gap:12px; transition:background .2s;
        }
        .sidebar a.active, .sidebar a:hover {background:#2980b9;}
        .main-content {margin-left:220px; padding:50px 40px;}
        /* --- Le CSS de la carte et du formulaire reprend tes styles précédents --- */
        .tab-content {display: none;}
        .tab-content.active {display: block;}
        .app-container {display: flex; flex-wrap: wrap; gap: 30px;}
        .customization-panel {
            flex: 1; min-width: 300px; background: rgba(255,255,255,0.85); border-radius: 20px; padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.10); border: 1px solid #eee;
        }
        .preview-area {flex:2; min-width:300px; display:flex; flex-direction:column; align-items:center; gap:20px;}
        .form-group {margin-bottom:20px;}
        label {display:block; margin-bottom:8px; font-weight:600; color:#2c3e50;}
        input, textarea, select {
            width:100%; padding:12px 15px; border:2px solid #ddd; border-radius:8px;
            font-size:1rem; background:#fafbfc; color:#222; transition: border-color .2s;
        }
        input:focus, textarea:focus, select:focus {border-color:#3498db; outline:none;}
        input::placeholder, textarea::placeholder {color:#bbb;}
        textarea {min-height:100px; resize:vertical;}
        .color-picker {display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:15px;}
        .color-option {
            width:40px; height:40px; border-radius:50%; cursor:pointer; border:3px solid #eee; box-shadow:0 0 4px rgba(0,0,0,0.05); transition:transform 0.2s, border-color 0.2s;
        }
        .color-option.active {transform:scale(1.15); border:3px solid #3498db;}
        .btn {
            background:rgba(52,152,219,0.9); color:white; border:none; padding:12px 25px; border-radius:8px;
            font-size:1rem; font-weight:600; cursor:pointer; transition:all 0.3s; display:inline-block; margin-top:10px; margin-right:10px;
        }
        .btn:hover {background:rgba(41,128,185,0.93);}
        .card {
            background:rgba(255,255,255,0.98); border-radius:20px; overflow:hidden; width:320px; box-shadow:0 15px 30px rgba(0,0,0,0.13); border:1px solid #eee;
        }
        .card-header {position:relative; height:180px; overflow:hidden;}
        .card-bg {width:100%; height:100%; display:flex; align-items:center; justify-content:center;}
        .card-avatar {
            width:120px; height:120px; border-radius:50%; border:4px solid #fff;
            object-fit:cover; box-shadow:0 5px 15px rgba(0,0,0,0.13); background:#eee;
        }
        .card-body {padding:25px; text-align:center;}
        .card-name {font-size:1.6rem; font-weight:700; margin-bottom:5px; color:#2c3e50;}
        .card-role {color:#e67e22; font-weight:600; margin-bottom:15px;}
        .card-desc {color:#555; line-height:1.5; margin-bottom:20px;}
        .card-social {
            display:flex; justify-content:center; gap:15px; margin-top:15px; background:rgba(52,152,219,0.05); padding:15px; border-radius:15px;
        }
        .social-icon {width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-size:18px; transition:transform 0.3s; text-decoration:none;}
        .social-icon:hover {transform:scale(1.1);}
        .whatsapp{background-color:#25D366;}
        .email{background-color:#D44638;}
        .youtube{background-color:#FF0000;}
        .facebook{background-color:#1877f3;}
        .action-buttons{display:none;}
        .download-options {
            background:rgba(255,255,255,0.96); border-radius:20px; padding:25px; margin-top:30px; box-shadow:0 8px 32px rgba(0,0,0,0.08); border:1px solid #eee;
        }
        .format-options {display:flex; flex-wrap:wrap; gap:20px; justify-content:center;}
        .format-option {
            background:rgba(52,152,219,0.06); border-radius:15px; padding:20px; width:190px; text-align:center; transition:transform 0.3s; cursor:pointer; border:1px solid #e5e5e5; color:#2980b9;
        }
        .format-option:hover {transform:translateY(-5px); background:rgba(52,152,219,0.12);}
        .format-option i {font-size:2.5rem; margin-bottom:15px;}
        .format-option.html i {color:#e34f26;}
        .format-option.pdf i {color:#f40f02;}
        .format-option.image i {color:#5b77bd;}
        @media (max-width:768px){
            .sidebar{position:static;width:100%;height:auto;flex-direction:row;justify-content:space-around;padding:12px 0;}
            .main-content{margin:0;padding:20px;}
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2><i class="fas fa-id-card"></i> EquipeDesign</h2>
        <a href="index.html"><i class="fas fa-home"></i> Accueil</a>
        <a href="cartes_equipe_design.html" class="active"><i class="fas fa-user-plus"></i> Créer ma carte</a>
        <a href="contact.html"><i class="fas fa-envelope"></i> Contact</a>
        <a href="privacy.html"><i class="fas fa-user-secret"></i> Confidentialité</a>
    </div>
    <div class="main-content">
        <div class="main-content">
            <div class="main-content">
                <div class="main-content">
                    <!-- Onglets navigation internes -->
                    <div class="main-content" style="padding:0;">
                        <div class="main-content" style="padding:0;">
                            <div style="margin-bottom:30px;">
                                <button class="btn" onclick="openTab('creation')"><i class="fas fa-edit"></i> Création</button>
                                <button class="btn" onclick="openTab('library')"><i class="fas fa-book"></i> Bibliothèque</button>
                                <button class="btn" onclick="openTab('download')"><i class="fas fa-download"></i> Téléchargement</button>
                                <button class="btn" onclick="openTab('instructions')"><i class="fas fa-question-circle"></i> Aide</button>
                            </div>
                        </div>
                    </div>
                    <div class="main-content" style="padding:0;">
                        <!-- Création -->
                        <div id="creation" class="tab-content active">
                            <div class="app-container">
                                <div class="customization-panel">
                                    <h2 style="color:#2980b9;">Personnalisation</h2>
                                    <div class="form-group">
                                        <label for="name">Nom et Prénom</label>
                                        <input type="text" id="name" placeholder="Ex: IPOTE IVAN GAEL" value="IPOTE IVAN GAEL">
                                    </div>
                                    <div class="form-group">
                                        <label for="role">Poste/Rôle</label>
                                        <input type="text" id="role" placeholder="Ex: DEVELOPPEUR DE SITE WEB" value="DEVELOPPEUR DE SITE WEB">
                                    </div>
                                    <div class="form-group">
                                        <label for="description">Description</label>
                                        <textarea id="description" placeholder="Décrivez le membre de l'équipe..."></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="avatar">Avatar</label>
                                        <input type="text" id="avatar" placeholder="Collez l'URL d'une image" value="">
                                        <div class="file-upload">
                                            <label for="avatar-file" class="file-label"><i class="fas fa-upload"></i> Charger une image</label>
                                            <input type="file" id="avatar-file" accept="image/*">
                                            <span class="file-name" id="file-name">Aucun fichier choisi</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Couleur de fond</label>
                                        <div class="color-picker">
                                            <div class="color-option active" style="background: linear-gradient(45deg, #3498db, #2c3e50);" data-color="blue"></div>
                                            <div class="color-option" style="background: linear-gradient(45deg, #e74c3c, #c0392b);" data-color="red"></div>
                                            <div class="color-option" style="background: linear-gradient(45deg, #2ecc71, #27ae60);" data-color="green"></div>
                                            <div class="color-option" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);" data-color="purple"></div>
                                            <div class="color-option" style="background: linear-gradient(45deg, #ff9a9e, #fad0c4);" data-color="pink"></div>
                                            <div class="color-option" style="background: linear-gradient(45deg, #a1c4fd, #c2e9fb);" data-color="lightblue"></div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="template">Modèle de Carte</label>
                                        <select id="template">
                                            <option value="default">Défaut</option>
                                            <option value="modern">Moderne</option>
                                            <option value="minimal">Minimaliste</option>
                                            <option value="corporate">Corporate</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Réseaux Sociaux</label>
                                        <div class="social-inputs">
                                            <div class="social-input-group">
                                                <i class="fab fa-whatsapp whatsapp"></i>
                                                <input type="text" id="whatsapp-link" placeholder="Numéro WhatsApp (ex: 33612345678)" value="">
                                            </div>
                                            <div class="social-input-group">
                                                <i class="fas fa-envelope email"></i>
                                                <input type="text" id="email-link" placeholder="Adresse email (ex: contact@example.com)" value="">
                                            </div>
                                            <div class="social-input-group">
                                                <i class="fab fa-youtube youtube"></i>
                                                <input type="text" id="youtube-link" placeholder="Nom de la chaîne YouTube" value="">
                                            </div>
                                            <div class="social-input-group">
                                                <i class="fab fa-facebook facebook"></i>
                                                <input type="text" id="facebook-link" placeholder="Nom d'utilisateur Facebook" value="">
                                            </div>
                                        </div>
                                    </div>
                                    <button class="btn" onclick="applyCustomization()"><i class="fas fa-sync-alt"></i> Appliquer les modifications</button>
                                    <button class="btn btn-library" onclick="saveToLibrary()"><i class="fas fa-save"></i> Sauvegarder dans la bibliothèque</button>
                                </div>
                                <div class="preview-area">
                                    <div class="card" id="previewCard">
                                        <div class="card-header">
                                            <div class="card-bg" id="cardBg" style="background: linear-gradient(45deg, #3498db, #2c3e50);">
                                                <img src="" alt="IPOTE IVAN GAEL" class="card-avatar" id="previewAvatar">
                                            </div>
                                        </div>
                                        <div class="card-body">
                                            <h2 class="card-name" id="previewName">IPOTE IVAN GAEL</h2>
                                            <p class="card-role" id="previewRole">DEVELOPPEUR DE SITE WEB</p>
                                            <p class="card-desc" id="previewDesc"></p>
                                            <div class="card-social">
                                                <a href="#" class="social-icon whatsapp" id="preview-whatsapp"><i class="fab fa-whatsapp"></i></a>
                                                <a href="#" class="social-icon email" id="preview-email"><i class="far fa-envelope"></i></a>
                                                <a href="#" class="social-icon youtube" id="preview-youtube"><i class="fab fa-youtube"></i></a>
                                                <a href="#" class="social-icon facebook" id="preview-facebook"><i class="fab fa-facebook"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="action-buttons"></div>
                                    <div id="qrcode-container" style="display:none;"></div>
                                </div>
                            </div>
                        </div>
                        <!-- Onglet Bibliothèque -->
                        <div id="library" class="tab-content">
                            <div class="library">
                                <h2>Bibliothèque de Cartes</h2>
                                <p style="text-align: center; margin-bottom: 20px; color: #888;">Retrouvez ici toutes vos cartes sauvegardées</p>
                                <div class="cards-grid" id="cardsLibrary"></div>
                            </div>
                        </div>
                        <!-- Onglet Téléchargement -->
                        <div id="download" class="tab-content">
                            <div class="download-options">
                                <h2>Options de Téléchargement</h2>
                                <p style="text-align: center; margin-bottom: 30px; color: #888;">Choisissez le format qui correspond le mieux à vos besoins</p>
                                <div class="format-options">
                                    <div class="format-option html" onclick="downloadHTML()">
                                        <i class="fab fa-html5"></i>
                                        <h3>Format HTML</h3>
                                        <p>Préserve tous les liens et l'interactivité. Parfait pour l'envoi par email ou l'intégration web.</p>
                                    </div>
                                    <div class="format-option pdf" onclick="downloadPDF()">
                                        <i class="fas fa-file-pdf"></i>
                                        <h3>Format PDF</h3>
                                        <p>Idéal pour l'impression. Les liens seront cliquables dans la plupart des lecteurs PDF.</p>
                                    </div>
                                    <div class="format-option image" onclick="downloadImage()">
                                        <i class="fas fa-image"></i>
                                        <h3>Format Image + QR</h3>
                                        <p>Génère une image avec un QR code pointant vers une version web de votre carte.</p>
                                    </div>
                                </div>
                                <div style="margin-top: 30px; text-align: center;">
                                    <button class="btn btn-download" onclick="downloadHTML()"><i class="fas fa-download"></i> Télécharger au format HTML</button>
                                    <button class="btn btn-download" onclick="downloadPDF()"><i class="fas fa-file-pdf"></i> Télécharger en PDF</button>
                                    <button class="btn btn-download" onclick="downloadImage()"><i class="fas fa-image"></i> Télécharger en image + QR</button>
                                </div>
                            </div>
                        </div>
                        <!-- Onglet Instructions -->
                        <div id="instructions" class="tab-content">
                            <div class="instructions">
                                <h2>Comment personnaliser votre carte</h2>
                                <ol>
                                    <li>Modifiez les champs de texte pour changer le nom, le poste et la description</li>
                                    <li>Collez l'URL d'une image ou chargez une image depuis votre appareil</li>
                                    <li>Choisissez une couleur de fond parmi les options proposées</li>
                                    <li>Sélectionnez un modèle de carte différent si vous le souhaitez</li>
                                    <li>Ajoutez vos liens vers WhatsApp, Email, YouTube et Facebook</li>
                                    <li>Cliquez sur "Appliquer les modifications" pour mettre à jour la carte</li>
                                    <li>Utilisez "Sauvegarder dans la bibliothèque" pour l'ajouter à votre collection</li>
                                    <li>Allez dans l'onglet "Téléchargement" pour exporter votre carte</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Navigation interne (onglets)
        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
        }
        // Le reste du JS (identique à la version précédente)
        let savedCards = JSON.parse(localStorage.getItem('teamCards')) || [];
        function applyCustomization() {
            const name = document.getElementById('name').value;
            const role = document.getElementById('role').value;
            const description = document.getElementById('description').value;
            const avatarUrl = document.getElementById('avatar').value;
            const whatsappLink = document.getElementById('whatsapp-link').value;
            const emailLink = document.getElementById('email-link').value;
            const youtubeLink = document.getElementById('youtube-link').value;
            const facebookLink = document.getElementById('facebook-link').value;
            document.getElementById('previewName').textContent = name;
            document.getElementById('previewRole').textContent = role;
            document.getElementById('previewDesc').textContent = description;
            document.getElementById('previewAvatar').src = avatarUrl || '';
            document.getElementById('preview-whatsapp').href = whatsappLink ? `https://wa.me/${whatsappLink.replace(/\D/g, '')}` : '#';
            document.getElementById('preview-email').href = emailLink ? `mailto:${emailLink}` : '#';
            document.getElementById('preview-youtube').href = youtubeLink ? `https://www.youtube.com/${youtubeLink}` : '#';
            document.getElementById('preview-facebook').href = facebookLink ? `https://www.facebook.com/${facebookLink}` : '#';
            // pas d'alerte ici
        }
        // Couleurs
        const colorOptions = document.querySelectorAll('.color-option');
        colorOptions.forEach(option => {
            option.addEventListener('click', function() {
                colorOptions.forEach(opt => opt.classList.remove('active'));
                this.classList.add('active');
                const bgStyle = this.getAttribute('style');
                document.getElementById('cardBg').setAttribute('style', bgStyle);
            });
        });
        // Modèle
        document.getElementById('template').addEventListener('change', function() {
            // rien ici
        });
        // Avatar fichier
        document.getElementById('avatar-file').addEventListener('change', function(event) {
            const file = event.target.files[0];
            const fileName = document.getElementById('file-name');
            if (file) {
                fileName.textContent = file.name;
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewAvatar').src = e.target.result;
                    document.getElementById('avatar').value = '';
                };
                reader.readAsDataURL(file);
            } else {
                fileName.textContent = 'Aucun fichier choisi';
            }
        });
        // Télécharger la carte en HTML
        function downloadHTML() {
            const cardData = {
                name: document.getElementById('name').value,
                role: document.getElementById('role').value,
                description: document.getElementById('description').value,
                avatar: document.getElementById('previewAvatar').src,
                bgStyle: document.getElementById('cardBg').getAttribute('style'),
                whatsapp: document.getElementById('whatsapp-link').value,
                email: document.getElementById('email-link').value,
                youtube: document.getElementById('youtube-link').value,
                facebook: document.getElementById('facebook-link').value
            };
            const htmlContent = `
            <!DOCTYPE html>
            <html lang="fr"><head>
            <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Carte de ${cardData.name}</title>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
            <style>
            body {display:flex;justify-content:center;align-items:center;min-height:100vh;background:#f5f7fa;margin:0;padding:20px;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;}
            .card {background:white;border-radius:15px;overflow:hidden;width:320px;box-shadow:0 15px 30px rgba(0,0,0,0.2);}
            .card-header {position:relative;height:180px;overflow:hidden;}
            .card-bg {width:100%;height:100%;display:flex;align-items:center;justify-content:center;}
            .card-avatar {width:120px;height:120px;border-radius:50%;border:4px solid white;object-fit:cover;box-shadow:0 5px 15px rgba(0,0,0,0.2);}
            .card-body {padding:25px;text-align:center;}
            .card-name {font-size:1.6rem;font-weight:700;margin-bottom:5px;color:#2c3e50;}
            .card-role {color:#e67e22;font-weight:600;margin-bottom:15px;}
            .card-desc {color:#7f8c8d;line-height:1.5;margin-bottom:20px;}
            .card-social {display:flex;justify-content:center;gap:15px;margin-top:15px;}
            .social-icon {width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-size:18px;transition:transform 0.3s;text-decoration:none;}
            .social-icon:hover {transform:scale(1.1);}
            .whatsapp{background-color:#25D366;}
            .email{background-color:#D44638;}
            .youtube{background-color:#FF0000;}
            .facebook{background-color:#1877f3;}
            </style>
            </head>
            <body>
            <div class="card">
                <div class="card-header">
                    <div class="card-bg" style="${cardData.bgStyle}">
                        <img src="${cardData.avatar}" alt="${cardData.name}" class="card-avatar">
                    </div>
                </div>
                <div class="card-body">
                    <h2 class="card-name">${cardData.name}</h2>
                    <p class="card-role">${cardData.role}</p>
                    <p class="card-desc">${cardData.description}</p>
                    <div class="card-social">
                        ${cardData.whatsapp ? `<a href="https://wa.me/${cardData.whatsapp.replace(/\D/g, '')}" class="social-icon whatsapp"><i class="fab fa-whatsapp"></i></a>` : ''}
                        ${cardData.email ? `<a href="mailto:${cardData.email}" class="social-icon email"><i class="far fa-envelope"></i></a>` : ''}
                        ${cardData.youtube ? `<a href="https://www.youtube.com/${cardData.youtube}" class="social-icon youtube"><i class="fab fa-youtube"></i></a>` : ''}
                        ${cardData.facebook ? `<a href="https://www.facebook.com/${cardData.facebook}" class="social-icon facebook"><i class="fab fa-facebook"></i></a>` : ''}
                    </div>
                </div>
            </div>
            </body></html>`;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `carte-${cardData.name.replace(/\s+/g, '-').toLowerCase()}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
        // Télécharger la carte en PDF
        function downloadPDF() {
            const card = document.getElementById('previewCard');
            html2pdf().set({
                margin: 0,
                filename: `carte-${document.getElementById('name').value.replace(/\s+/g, '-').toLowerCase()}.pdf`,
                html2canvas: { scale: 2, backgroundColor: null },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            }).from(card).save();
        }
        // Télécharger la carte en image + QR Code
        function downloadImage() {
            const card = document.getElementById('previewCard');
            html2canvas(card, {backgroundColor: null}).then(function(canvas) {
                const url = window.location.href;
                const qrcodeContainer = document.getElementById('qrcode-container');
                qrcodeContainer.style.display = 'block';
                qrcodeContainer.innerHTML = '';
                const qrcode = new QRCode(qrcodeContainer, {
                    text: url, width: 80, height: 80, colorDark : "#000000", colorLight : "#ffffff", correctLevel : QRCode.CorrectLevel.H
                });
                setTimeout(function() {
                    const qrImg = qrcodeContainer.querySelector('img');
                    const finalCanvas = document.createElement('canvas');
                    finalCanvas.width = canvas.width;
                    finalCanvas.height = canvas.height + 90;
                    const ctx = finalCanvas.getContext('2d');
                    ctx.fillStyle = "#fff";
                    ctx.fillRect(0,0,finalCanvas.width,finalCanvas.height);
                    ctx.drawImage(canvas, 0, 0);
                    if (qrImg) ctx.drawImage(qrImg, (canvas.width-80)/2, canvas.height+10, 80, 80);
                    const link = document.createElement('a');
                    link.href = finalCanvas.toDataURL('image/png');
                    link.download = `carte-${document.getElementById('name').value.replace(/\s+/g, '-').toLowerCase()}.png`;
                    link.click();
                    qrcodeContainer.style.display = 'none';
                }, 500);
            });
        }
        // BIBLIOTHEQUE
        function saveToLibrary() {
            const cardData = {
                name: document.getElementById('name').value,
                role: document.getElementById('role').value,
                description: document.getElementById('description').value,
                avatar: document.getElementById('previewAvatar').src,
                bgStyle: document.getElementById('cardBg').getAttribute('style'),
                whatsapp: document.getElementById('whatsapp-link').value,
                email: document.getElementById('email-link').value,
                youtube: document.getElementById('youtube-link').value,
                facebook: document.getElementById('facebook-link').value,
                timestamp: new Date().getTime()
            };
            savedCards.push(cardData);
            localStorage.setItem('teamCards', JSON.stringify(savedCards));
            updateLibrary();
            openTab('library');
        }
        function updateLibrary() {
            const libraryContainer = document.getElementById('cardsLibrary');
            libraryContainer.innerHTML = '';
            if (savedCards.length === 0) {
                libraryContainer.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: #888;">Aucune carte sauvegardée pour le moment</p>';
                return;
            }
            savedCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'library-card';
                cardElement.innerHTML = `
                    <div class="card-header">
                        <div class="card-bg" style="${card.bgStyle}">
                            <img src="${card.avatar}" alt="${card.name}" class="card-avatar">
                        </div>
                    </div>
                    <div class="card-body">
                        <h2 class="card-name">${card.name}</h2>
                        <p class="card-role">${card.role}</p>
                        <p class="card-desc">${card.description}</p>
                        <div class="card-social">
                            ${card.whatsapp ? '<a href="https://wa.me/' + card.whatsapp.replace(/\D/g, '') + '" class="social-icon whatsapp"><i class="fab fa-whatsapp"></i></a>' : ''}
                            ${card.email ? '<a href="mailto:' + card.email + '" class="social-icon email"><i class="far fa-envelope"></i></a>' : ''}
                            ${card.youtube ? '<a href="https://www.youtube.com/' + card.youtube + '" class="social-icon youtube"><i class="fab fa-youtube"></i></a>' : ''}
                            ${card.facebook ? '<a href="https://www.facebook.com/' + card.facebook + '" class="social-icon facebook"><i class="fab fa-facebook"></i></a>' : ''}
                        </div>
                    </div>
                `;
                cardElement.addEventListener('click', () => {
                    if (confirm('Voulez-vous charger cette carte dans l\'éditeur?')) {
                        loadCardToEditor(index);
                        openTab('creation');
                    }
                });
                libraryContainer.appendChild(cardElement);
            });
        }
        function loadCardToEditor(index) {
            const card = savedCards[index];
            document.getElementById('name').value = card.name;
            document.getElementById('role').value = card.role;
            document.getElementById('description').value = card.description;
            document.getElementById('avatar').value = '';
            document.getElementById('previewAvatar').src = card.avatar;
            document.getElementById('cardBg').setAttribute('style', card.bgStyle);
            document.getElementById('whatsapp-link').value = card.whatsapp || '';
            document.getElementById('email-link').value = card.email || '';
            document.getElementById('youtube-link').value = card.youtube || '';
            document.getElementById('facebook-link').value = card.facebook || '';
            applyCustomization();
            colorOptions.forEach(option => {
                option.classList.remove('active');
                if (option.getAttribute('style') === card.bgStyle) {
                    option.classList.add('active');
                }
            });
        }
        document.addEventListener('DOMContentLoaded', function() { updateLibrary(); });
    </script>
</body>
</html>
