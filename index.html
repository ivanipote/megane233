<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartes d'Équipe - Design Unique</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Ajout des librairies pour PDF et Image + QR -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        /* ... Le CSS reste inchangé ... */
        /* [Copie le CSS du fichier original ici, il ne change pas] */
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Cartes d'Équipe Design</h1>
            <p class="description">Créez des cartes d'équipe élégantes avec des effets de verre et des liens sociaux</p>
        </header>
        
        <div class="main-content">
            <!-- Onglet Création -->
            <div id="creation" class="tab-content active">
                <div class="app-container">
                    <div class="customization-panel">
                        <h2 style="color: white;">Personnalisation</h2>
                        <div class="form-group">
                            <label for="name">Nom et Prénom</label>
                            <input type="text" id="name" placeholder="Ex: Sophie Martin" value="Sophie Martin">
                        </div>
                        <div class="form-group">
                            <label for="role">Poste/Rôle</label>
                            <input type="text" id="role" placeholder="Ex: Développeuse Front-end" value="Développeuse Front-end">
                        </div>
                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea id="description" placeholder="Décrivez le membre de l'équipe...">Spécialiste en interfaces utilisateur réactives et expériences utilisateur optimisées avec 5 ans d'expérience.</textarea>
                        </div>
                        <div class="form-group">
                            <label for="avatar">Avatar</label>
                            <input type="text" id="avatar" placeholder="Collez l'URL d'une image" value="https://randomuser.me/api/portraits/women/44.jpg">
                            <div class="file-upload">
                                <label for="avatar-file" class="file-label">
                                    <i class="fas fa-upload"></i> Charger une image
                                </label>
                                <input type="file" id="avatar-file" accept="image/*">
                                <span class="file-name" id="file-name">Aucun fichier choisi</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Couleur de fond</label>
                            <div class="color-picker">
                                <div class="color-option active" style="background: linear-gradient(45deg, #3498db, #2c3e50);" data-color="blue"></div>
                                <div class="color-option" style="background: linear-gradient(45deg, #e74c3c, #c0392b);" data-color="red"></div>
                                <div class="color-option" style="background: linear-gradient(45deg, #2ecc71, #27ae60);" data-color="green"></div>
                                <div class="color-option" style="background: linear-gradient(45deg, #9b59b6, #8e44ad);" data-color="purple"></div>
                                <div class="color-option" style="background: linear-gradient(45deg, #ff9a9e, #fad0c4);" data-color="pink"></div>
                                <div class="color-option" style="background: linear-gradient(45deg, #a1c4fd, #c2e9fb);" data-color="lightblue"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="template">Modèle de Carte</label>
                            <select id="template">
                                <option value="default">Défaut</option>
                                <option value="modern">Moderne</option>
                                <option value="minimal">Minimaliste</option>
                                <option value="corporate">Corporate</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Réseaux Sociaux</label>
                            <div class="social-inputs">
                                <div class="social-input-group">
                                    <i class="fab fa-whatsapp whatsapp"></i>
                                    <input type="text" id="whatsapp-link" placeholder="Numéro WhatsApp (ex: 33612345678)" value="">
                                </div>
                                <div class="social-input-group">
                                    <i class="fas fa-envelope email"></i>
                                    <input type="text" id="email-link" placeholder="Adresse email (ex: contact@example.com)" value="">
                                </div>
                                <div class="social-input-group">
                                    <i class="fab fa-youtube youtube"></i>
                                    <input type="text" id="youtube-link" placeholder="Nom de la chaîne YouTube" value="">
                                </div>
                                <div class="social-input-group">
                                    <i class="fab fa-facebook facebook"></i>
                                    <input type="text" id="facebook-link" placeholder="Nom d'utilisateur Facebook" value="">
                                </div>
                            </div>
                        </div>
                        <button class="btn" onclick="applyCustomization()">
                            <i class="fas fa-sync-alt"></i> Appliquer les modifications
                        </button>
                        <button class="btn btn-library" onclick="saveToLibrary()">
                            <i class="fas fa-save"></i> Sauvegarder dans la bibliothèque
                        </button>
                    </div>
                    <div class="preview-area">
                        <div class="card" id="previewCard">
                            <div class="card-header">
                                <div class="card-bg" id="cardBg" style="background: linear-gradient(45deg, #3498db, #2c3e50);">
                                    <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Sophie Martin" class="card-avatar" id="previewAvatar">
                                </div>
                            </div>
                            <div class="card-body">
                                <h2 class="card-name" id="previewName">Sophie Martin</h2>
                                <p class="card-role" id="previewRole">Développeuse Front-end</p>
                                <p class="card-desc" id="previewDesc">Spécialiste en interfaces utilisateur réactives et expériences utilisateur optimisées avec 5 ans d'expérience.</p>
                                <div class="card-social">
                                    <a href="#" class="social-icon whatsapp" id="preview-whatsapp"><i class="fab fa-whatsapp"></i></a>
                                    <a href="#" class="social-icon email" id="preview-email"><i class="far fa-envelope"></i></a>
                                    <a href="#" class="social-icon youtube" id="preview-youtube"><i class="fab fa-youtube"></i></a>
                                    <a href="#" class="social-icon facebook" id="preview-facebook"><i class="fab fa-facebook"></i></a>
                                </div>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-download" onclick="downloadHTML()">
                                <i class="fas fa-download"></i> Télécharger la carte
                            </button>
                            <button class="btn btn-download" onclick="downloadPDF()">
                                <i class="fas fa-file-pdf"></i> Télécharger en PDF
                            </button>
                            <button class="btn btn-download" onclick="downloadImage()">
                                <i class="fas fa-image"></i> Télécharger en image + QR
                            </button>
                            <button class="btn btn-library" onclick="saveToLibrary()">
                                <i class="fas fa-save"></i> Sauvegarder dans la bibliothèque
                            </button>
                        </div>
                        <div id="qrcode-container" style="display:none;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Onglet Bibliothèque -->
            <div id="library" class="tab-content">
                <div class="library">
                    <h2>Bibliothèque de Cartes</h2>
                    <p style="text-align: center; margin-bottom: 20px; color: rgba(255, 255, 255, 0.8);">Retrouvez ici toutes vos cartes sauvegardées</p>
                    <div class="cards-grid" id="cardsLibrary">
                        <!-- Les cartes sauvegardées apparaîtront ici -->
                    </div>
                </div>
            </div>
            
            <!-- Onglet Téléchargement -->
            <div id="download" class="tab-content">
                <div class="download-options">
                    <h2>Options de Téléchargement</h2>
                    <p style="text-align: center; margin-bottom: 30px; color: rgba(255, 255, 255, 0.8);">
                        Choisissez le format qui correspond le mieux à vos besoins
                    </p>
                    <div class="format-options">
                        <div class="format-option html" onclick="downloadHTML()">
                            <i class="fab fa-html5"></i>
                            <h3>Format HTML</h3>
                            <p>Préserve tous les liens et l'interactivité. Parfait pour l'envoi par email ou l'intégration web.</p>
                        </div>
                        <div class="format-option pdf" onclick="downloadPDF()">
                            <i class="fas fa-file-pdf"></i>
                            <h3>Format PDF</h3>
                            <p>Idéal pour l'impression. Les liens seront cliquables dans la plupart des lecteurs PDF.</p>
                        </div>
                        <div class="format-option image" onclick="downloadImage()">
                            <i class="fas fa-image"></i>
                            <h3>Format Image + QR</h3>
                            <p>Génère une image avec un QR code pointant vers une version web de votre carte.</p>
                        </div>
                    </div>
                    <div style="margin-top: 30px; text-align: center;">
                        <button class="btn btn-download" onclick="downloadHTML()">
                            <i class="fas fa-download"></i> Télécharger au format HTML
                        </button>
                        <button class="btn btn-download" onclick="downloadPDF()">
                            <i class="fas fa-file-pdf"></i> Télécharger en PDF
                        </button>
                        <button class="btn btn-download" onclick="downloadImage()">
                            <i class="fas fa-image"></i> Télécharger en image + QR
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Onglet Instructions -->
            <div id="instructions" class="tab-content">
                <div class="instructions">
                    <h2>Comment personnaliser votre carte</h2>
                    <ol>
                        <li>Modifiez les champs de texte pour changer le nom, le poste et la description</li>
                        <li>Collez l'URL d'une image ou chargez une image depuis votre appareil</li>
                        <li>Choisissez une couleur de fond parmi les options proposées</li>
                        <li>Sélectionnez un modèle de carte différent si vous le souhaitez</li>
                        <li>Ajoutez vos liens vers WhatsApp, Email, <b>YouTube</b> et <b>Facebook</b></li>
                        <li>Cliquez sur "Appliquer les modifications" pour mettre à jour la carte</li>
                        <li>Utilisez "Sauvegarder dans la bibliothèque" pour l'ajouter à votre collection</li>
                        <li>Allez dans l'onglet "Téléchargement" pour exporter votre carte</li>
                    </ol>
                    <h2 style="margin-top: 30px;">Formats de téléchargement</h2>
                    <ul>
                        <li><strong>HTML</strong>: Préserve tous les liens actifs. Parfait pour partager par email ou intégrer à un site web.</li>
                        <li><strong>PDF</strong>: Idéal pour imprimer ou partager, liens cliquables.</li>
                        <li><strong>Image + QR Code</strong>: Génère une image avec un QR code qui redirige vers une version web de votre carte.</li>
                    </ul>
                    <h2 style="margin-top: 30px;">Comment utiliser les réseaux sociaux</h2>
                    <ul>
                        <li><strong>WhatsApp</strong>: Entrez le numéro de téléphone au format international (ex: 33612345678)</li>
                        <li><strong>Email</strong>: Entrez l'adresse email complète (ex: contact@example.com)</li>
                        <li><strong>YouTube</strong>: Entrez le nom de votre chaîne YouTube</li>
                        <li><strong>Facebook</strong>: Entrez votre nom d'utilisateur Facebook</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Navigation par icônes en bas -->
        <div class="bottom-nav">
            <a href="#" class="nav-icon active" onclick="openTab('creation'); return false;">
                <i class="fas fa-plus-circle"></i>
                <span>Création</span>
            </a>
            <a href="#" class="nav-icon" onclick="openTab('library'); return false;">
                <i class="fas fa-book"></i>
                <span>Bibliothèque</span>
            </a>
            <a href="#" class="nav-icon" onclick="openTab('download'); return false;">
                <i class="fas fa-download"></i>
                <span>Télécharger</span>
            </a>
            <a href="#" class="nav-icon" onclick="openTab('instructions'); return false;">
                <i class="fas fa-question-circle"></i>
                <span>Aide</span>
            </a>
        </div>
        
        <footer>
            <p>© 2023 Cartes d'Équipe Design. Tous droits réservés.</p>
        </footer>
    </div>

    <script>
        // Variables globales
        let savedCards = JSON.parse(localStorage.getItem('teamCards')) || [];
        let currentTab = 'creation';
        
        // Fonction pour changer d'onglet
        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.nav-icon').forEach(icon => icon.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            document.querySelector(`.nav-icon[onclick="openTab('${tabName}');"]`).classList.add('active');
            currentTab = tabName;
            if (tabName === 'library') updateLibrary();
        }

        // Appliquer les personnalisations
        function applyCustomization() {
            const name = document.getElementById('name').value;
            const role = document.getElementById('role').value;
            const description = document.getElementById('description').value;
            const avatarUrl = document.getElementById('avatar').value;

            const whatsappLink = document.getElementById('whatsapp-link').value;
            const emailLink = document.getElementById('email-link').value;
            const youtubeLink = document.getElementById('youtube-link').value;
            const facebookLink = document.getElementById('facebook-link').value;

            document.getElementById('previewName').textContent = name;
            document.getElementById('previewRole').textContent = role;
            document.getElementById('previewDesc').textContent = description;
            if (avatarUrl) document.getElementById('previewAvatar').src = avatarUrl;

            document.getElementById('preview-whatsapp').href = whatsappLink ? `https://wa.me/${whatsappLink.replace(/\D/g, '')}` : '#';
            document.getElementById('preview-email').href = emailLink ? `mailto:${emailLink}` : '#';
            document.getElementById('preview-youtube').href = youtubeLink ? `https://www.youtube.com/${youtubeLink}` : '#';
            document.getElementById('preview-facebook').href = facebookLink ? `https://www.facebook.com/${facebookLink}` : '#';

            alert('Les modifications ont été appliquées avec succès !');
        }

        // Couleurs
        const colorOptions = document.querySelectorAll('.color-option');
        colorOptions.forEach(option => {
            option.addEventListener('click', function() {
                colorOptions.forEach(opt => opt.classList.remove('active'));
                this.classList.add('active');
                const bgStyle = this.getAttribute('style');
                document.getElementById('cardBg').setAttribute('style', bgStyle);
            });
        });

        // Modèle (non utilisé ici mais conservé)
        const templateSelect = document.getElementById('template');
        templateSelect.addEventListener('change', function() {
            alert('Modèle ' + this.options[this.selectedIndex].text + ' sélectionné !');
        });

        // Avatar fichier
        const avatarFile = document.getElementById('avatar-file');
        const fileName = document.getElementById('file-name');
        avatarFile.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                fileName.textContent = file.name;
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('previewAvatar').src = e.target.result;
                    document.getElementById('avatar').value = '';
                };
                reader.readAsDataURL(file);
            } else {
                fileName.textContent = 'Aucun fichier choisi';
            }
        });

        // Télécharger la carte en HTML (inchangé)
        function downloadHTML() {
            const cardData = {
                name: document.getElementById('name').value,
                role: document.getElementById('role').value,
                description: document.getElementById('description').value,
                avatar: document.getElementById('previewAvatar').src,
                bgStyle: document.getElementById('cardBg').getAttribute('style'),
                whatsapp: document.getElementById('whatsapp-link').value,
                email: document.getElementById('email-link').value,
                youtube: document.getElementById('youtube-link').value,
                facebook: document.getElementById('facebook-link').value
            };
   
